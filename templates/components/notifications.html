<!-- Flash Messages / Notifications -->
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="notifications-container mt-3">
            {% for category, message in messages %}
                <div class="alert alert-{{ 'success' if category == 'success' else 'danger' if category == 'error' else 'warning' if category == 'warning' else 'info' }} alert-dismissible fade show" role="alert">
                    {% if category == 'success' %}
                        <i class="fas fa-check-circle"></i>
                    {% elif category == 'error' %}
                        <i class="fas fa-exclamation-triangle"></i>
                    {% elif category == 'warning' %}
                        <i class="fas fa-exclamation-circle"></i>
                    {% else %}
                        <i class="fas fa-info-circle"></i>
                    {% endif %}
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

<!-- Success/Error messages for AJAX responses -->
<div id="result-notification" class="mt-3" style="display: none;">
    <!-- Will be populated by JavaScript -->
</div>

<style>
.notifications-container .alert {
    border-radius: 0.75rem;
    border: 1px solid;
    margin-bottom: 1rem;
}

.alert-success {
    background: rgba(16,185,129,.1);
    border-color: rgba(16,185,129,.3);
    color: #10b981;
}

.alert-danger {
    background: rgba(220,38,38,.1);
    border-color: rgba(220,38,38,.3);
    color: #dc2626;
}

.alert-warning {
    background: rgba(245,158,11,.1);
    border-color: rgba(245,158,11,.3);
    color: #f59e0b;
}

.alert-info {
    background: rgba(59,130,246,.1);
    border-color: rgba(59,130,246,.3);
    color: #3b82f6;
}

.alert i {
    margin-right: 0.5rem;
}

.btn-close {
    filter: invert(1);
    opacity: 0.7;
}

.btn-close:hover {
    opacity: 1;
}
</style>