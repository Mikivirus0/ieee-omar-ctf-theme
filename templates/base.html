<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %} - {{ ctf_name() }}</title>
    <meta name="description" content="{% block description %}{{ ctf_description() }}{% endblock %}">
    <meta name="author" content="IEEE Oman Section">
    
    <!-- CTFd Core CSS -->
    <link rel="stylesheet" href="{{ url_for('views.themes', theme='core', path='css/main.css') }}">
    
    <!-- IEEE CTF Theme CSS -->
    <style>
        :root{
            --bg:#0b0b0d; --panel:#121216; --maroon:#7e0e1f; --maroon-2:#a01628;
            --ink:#d6d7db; --muted:#9aa0a6; --border:#2a2a30; --shadow:0 10px 30px rgba(0,0,0,.45);
            --success:#10b981; --ieee-blue:#00629B;
        }
        
        body{ background:var(--bg) !important; color:var(--ink); font-family: 'Lato', sans-serif; }
        a, a:visited{ color:var(--maroon-2); text-decoration:none; }
        a:hover{ color:#fff; }
        .text-white{ color:#fff; }

        .container{ max-width:1200px; margin:0 auto; padding:0 1rem; }
        .wrap{ margin-top:2rem; margin-bottom:3rem; }

        .row{ display:flex; flex-wrap:wrap; gap:1rem; }
        .col{ flex:1 1 0; min-width:260px; }
        .col-2{ flex:0 0 calc(50% - .5rem); min-width:320px; }
        @media (max-width: 900px){ .col-2{ flex:1 1 100%; } }

        .hero{
            background:
                radial-gradient(900px 420px at 8% -10%, rgba(126,14,31,.22), transparent 60%),
                radial-gradient(800px 380px at 110% 10%, rgba(160,22,40,.18), transparent 60%),
                linear-gradient(180deg,#141418,#0e0e12 65%);
            border:1px solid var(--border); border-radius:1.25rem; box-shadow:var(--shadow);
            padding:clamp(1.5rem,2vw + 1rem,2.5rem);
        }
        .eyebrow{ display:inline-block; font-weight:700; letter-spacing:.14em; text-transform:uppercase;
            font-size:.8rem; color:#fff; background:linear-gradient(135deg,var(--maroon),var(--maroon-2));
            padding:.35rem .7rem; border-radius:.5rem; margin-bottom:1rem; }
        .title{ font-weight:800; color:#fff; line-height:1.1; font-size:clamp(2rem,5vw,3.2rem); margin:0 0 1rem; }
        .lead{ color:var(--muted); max-width:640px; margin:0 0 1.25rem; }

        .btn{ display:inline-flex; align-items:center; gap:.5rem; padding:.8rem 1.1rem; border-radius:.75rem;
            font-weight:700; border:0; cursor:pointer; text-decoration:none; transition:all .15s ease; }
        .btn-solid{ background:linear-gradient(135deg,var(--maroon),var(--maroon-2)); color:#fff; box-shadow:0 4px 14px rgba(160,22,40,.25); }
        .btn-solid:hover{ filter:brightness(1.1); transform:translateY(-1px); color:#fff; }
        .btn-ghost{ background:transparent; color:var(--ink); border:1.5px solid var(--border); }
        .btn-ghost:hover{ background:rgba(126,14,31,.1); color:#fff; border-color:var(--maroon-2); }

        .btn-group{ display:flex; flex-wrap:wrap; gap:.75rem; }

        .section-card{ background:var(--panel); border:1px solid var(--border); border-radius:1rem; box-shadow:var(--shadow); padding:1.5rem; }
        .section-title{ color:#fff; font-weight:800; font-size:1.6rem; margin:0 0 1rem; }
        .muted{ color:var(--muted); }

        .navbar-dark{ background:var(--panel) !important; border-bottom:1px solid var(--border); }
        .navbar-brand{ color:#fff !important; font-weight:800; }
        .nav-link{ color:var(--ink) !important; }
        .nav-link:hover{ color:#fff !important; }

        .table-dark{ background:var(--panel); }
        .table-dark th, .table-dark td{ border-color:var(--border); color:var(--ink); }
        .table-dark th{ color:#fff; }

        .card{ background:var(--panel); border:1px solid var(--border); }
        .card-header{ background:var(--panel); border-bottom:1px solid var(--border); color:#fff; font-weight:600; }

        .form-control{ background:var(--panel); border:1px solid var(--border); color:var(--ink); }
        .form-control:focus{ background:var(--panel); border-color:var(--maroon-2); color:var(--ink); box-shadow:0 0 0 0.2rem rgba(160,22,40,.25); }

        .alert-success{ background:rgba(16,185,129,.1); border:1px solid rgba(16,185,129,.3); color:#10b981; }
        .alert-danger{ background:rgba(220,38,38,.1); border:1px solid rgba(220,38,38,.3); color:#dc2626; }
        .alert-warning{ background:rgba(245,158,11,.1); border:1px solid rgba(245,158,11,.3); color:#f59e0b; }

        .challenge-button{ background:var(--panel); border:1px solid var(--border); border-radius:.75rem; 
            padding:1rem; margin:.5rem; color:var(--ink); transition:all .2s; }
        .challenge-button:hover{ border-color:var(--maroon-2); transform:translateY(-2px); color:#fff; }
        .challenge-solved{ border-color:var(--success) !important; background:rgba(16,185,129,.1); }

        .sr-only{ position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0; }
    </style>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="{{ url_for('views.themes', theme='ieee-ctf', path='img/favicon.ico') }}" type="image/x-icon">
    
    {% block stylesheets %}{% endblock %}
    
    <meta name="color-scheme" content="dark">
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
        <div class="container-fluid">
            <a href="{{ url_for('views.static_html') }}" class="navbar-brand">
                <i class="fas fa-flag"></i> {{ ctf_name() }}
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#base-navbars">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="base-navbars">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('challenges.listing') }}">
                            <i class="fas fa-flag"></i> Challenges
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('scoreboard.listing') }}">
                            <i class="fas fa-trophy"></i> Scoreboard
                        </a>
                    </li>
                    {% if user_mode() == "teams" %}
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('teams.listing') }}">
                            <i class="fas fa-users"></i> Teams
                        </a>
                    </li>
                    {% endif %}
                </ul>
                
                <ul class="navbar-nav ml-auto">
                    {% if session.get('id') %}
                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                                <i class="fas fa-user"></i> 
                                {% if user_mode() == "teams" and session.get('team_id') %}
                                    {{ session.get('team_name', session.get('name')) }}
                                {% else %}
                                    {{ session.get('name') }}
                                {% endif %}
                            </a>
                            <div class="dropdown-menu">
                                {% if user_mode() == "teams" and session.get('team_id') %}
                                    <a class="dropdown-item" href="{{ url_for('teams.private') }}">
                                        <i class="fas fa-users"></i> Team
                                    </a>
                                {% endif %}
                                <a class="dropdown-item" href="{{ url_for('users.private') }}">
                                    <i class="fas fa-user"></i> Profile
                                </a>
                                <a class="dropdown-item" href="{{ url_for('users.settings') }}">
                                    <i class="fas fa-cog"></i> Settings
                                </a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="{{ url_for('auth.logout') }}">
                                    <i class="fas fa-sign-out-alt"></i> Logout
                                </a>
                            </div>
                        </li>
                    {% else %}
                        <li class="nav-item">
                            <a href="{{ url_for('auth.register') }}" class="nav-link">
                                <i class="fas fa-user-plus"></i> Register
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="{{ url_for('auth.login') }}" class="nav-link">
                                <i class="fas fa-sign-in-alt"></i> Login
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <main role="main">
        <div class="container">
            {% include "components/notifications.html" %}
            {% block content %}{% endblock %}
        </div>
    </main>

    <!-- CTFd Core JS -->
    <script src="{{ url_for('views.themes', theme='core', path='js/main.js') }}"></script>
    {% block scripts %}{% endblock %}
</body>
</html>